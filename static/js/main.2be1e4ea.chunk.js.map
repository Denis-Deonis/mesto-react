{"version":3,"sources":["images/header/logo.svg","contexts/CurrentUserContext.js","utils/api.js","components/Header.jsx","components/Card.jsx","components/Main.jsx","components/ImagePopup.jsx","components/Footer.jsx","components/PopupWithForm.jsx","components/AddPlacePopup.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/PopupConfirmation.jsx","components/App.js","index.js","images/profile/pen.svg"],"names":["module","exports","__webpack_require__","p","CurrentUserContext","React","createContext","api","Api","options","_classCallCheck","this","_headers","headers","_baseUrl","baseUrl","_createClass","key","value","res","ok","json","Promise","reject","concat","status","_this","fetch","then","_parseResponse","_this2","data","_this3","method","body","JSON","stringify","name","about","_this4","avatar","_this5","cardId","_this6","_this7","_this8","isLiked","_this9","authorization","Content-Type","Header","createElement","className","src","logo","alt","Card","props","currentUser","useContext","isOwn","owner","_id","likes","some","user","cardLikeButtonClassName","onClick","onDeletedCard","card","onConfirmationPopup","onCardClick","link","type","aria-label","onCardLike","length","Main","onEditAvatar","pen","onEditProfile","onAddPlace","cards","map","ImagePopup","onCloseOverlay","onMouseDown","onClose","Footer","year","Date","getFullYear","PopupWithForm","isOpen","form","onSubmit","title","children","buttonText","AddPlacePopup","_useState","useState","_useState2","_slicedToArray","placeName","setPlaceName","_useState3","_useState4","placeLink","setPlaceLink","useEffect","evt","preventDefault","onLoading","placeholder","required","minLength","maxLength","id","onChange","target","EditProfilePopup","setAbout","setName","e","onUpdateUser","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","PopupConfirmation","onCardDelete","App","selectedCard","setSelectedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_useState5","_useState6","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState7","_useState8","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState9","_useState10","isConfirmationPopupOpen","setIsConfirmationPopupOpen","_useState11","_useState12","isLoading","setIsLoading","_useState13","_useState14","setCurrentUser","_useState15","_useState16","setCards","_useState17","_useState18","deletedCard","setDeletedCard","closeAllPopups","closeByOverlay","currentTarget","all","getUserInfo","getInitialCards","_ref","_ref2","catch","err","console","error","handleEsc","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","state","log","addNewCard","_toConsumableArray","finally","newUserInfo","editProfileUserInfo","newAvatar","updateProfileAvatar","deleteCard","filter","item","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.2be1e4ea.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.51772f7c.svg\";","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext('');\r\n\r\nexport default CurrentUserContext;","class Api {\r\n  constructor(options) {\r\n    this._headers = options.headers;\r\n    this._baseUrl = options.baseUrl;\r\n  }\r\n\r\n\r\n    _parseResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`)\r\n    }\r\n\r\n    // Получение информации о пользователе с сервера\r\n    getUserInfo() {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        headers: this._headers\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // Получение карточек с сервера\r\n    getInitialCards() {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        headers: this._headers\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // Редактирование информации о пользователе через попап\r\n    editProfileUserInfo(data) {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: data.name,\r\n          about: data.about,\r\n        })\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // Редактирование аватара пользователя через попап\r\n    updateProfileAvatar(data) {\r\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          avatar: data.avatar\r\n        })\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // Добавление новой карточки через попап\r\n    addNewCard(data) {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify(data)\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // Удаление карточки\r\n    deleteCard(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // Ставим лайк карточке\r\n    setLike(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n        method: 'PUT',\r\n        headers: this._headers\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // Удаляем лайк\r\n    deleteLike(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n        method: 'DELETE',\r\n        headers: this._headers\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    // микс лайк и дизлайк\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n        method: `${!isLiked ? 'DELETE' : 'PUT'}`,\r\n        headers: this._headers\r\n      })\r\n        .then(res => this._parseResponse(res));\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-60\",\r\n  headers: {\r\n    authorization: \"014483e6-50f6-4a65-91e7-a3fda779d527\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;","import logo from '../images/header/logo.svg';\r\nimport React from 'react';\r\n\r\nexport default function Header() {\r\n  return(\r\n    <header className='header'>\r\n      <img className='header__logo' src={logo} alt='логотип сервиса Mesto' />\r\n    </header>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.owner._id === currentUser._id;\r\n\r\n  const isLiked = props.likes.some((user) => user._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"element__like-button_active \" : \"\"\r\n  }`;\r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handelLikeButton() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  const handleDeleteClick = () => {\r\n    props.onDeletedCard(props.card);\r\n    props.onConfirmationPopup(true);\r\n  };\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      {isOwn && <button className=\"element__trash\" onClick={handleDeleteClick}/>}\r\n      <img\r\n        className=\"element__image\"\r\n        onClick={handleCardClick}\r\n        src={props.link}\r\n        alt={props.name}\r\n      />\r\n      <div className=\"element__group\">\r\n        <h2 className=\"element__title\">{props.name}</h2>\r\n        <div className=\"element__container-like\">\r\n          <button\r\n            className={`element__like-button ${cardLikeButtonClassName} `}\r\n            type=\"button\"\r\n            aria-label=\"Лайк\"\r\n            onClick={handelLikeButton}\r\n          ></button>\r\n          <p className=\"element__count-like\">{props.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n} ","import pen from '../images/profile/pen.svg'\r\n\r\nimport React from 'react';\r\nimport Card from './Card';\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\"\r\n\r\n\r\nexport default function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__wrapper-relative\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt={currentUser.name}\r\n          />\r\n          <button\r\n            className=\"profile__edit-avatar\"\r\n            type=\"button\"\r\n            onClick={() => props.onEditAvatar(true)}\r\n          >\r\n            <img\r\n              className=\"profile__edit-pen\"\r\n              src={pen}\r\n              alt=\"изображение письменной ручки\"\r\n            />\r\n          </button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__heading\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__edit-button\"\r\n              type=\"button\"\r\n              aria-label=\"Редактировать\"\r\n              onClick={() => props.onEditProfile(true)}\r\n            />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          onClick={() => props.onAddPlace(true)}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              key={card._id}\r\n              link={card.link}\r\n              name={card.name}\r\n              likes={card.likes}\r\n              owner={card.owner}\r\n              onCardLike={props.onCardLike}\r\n              onCardClick={props.onCardClick}\r\n              onConfirmationPopup={props.onConfirmationPopup}\r\n              onDeletedCard={props.onDeletedCard}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_image popup_img ${props.card &&\r\n        \"popup_opened\"}`}\r\n      onClick={props.onCloseOverlay}\r\n    >\r\n      <figure className=\"popup__image-container\">\r\n        <button\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n          onMouseDown={props.onClose}\r\n        />\r\n        <img\r\n          className=\"popup__image\"\r\n          src={props.card ? props.card.link : \"\"}\r\n          alt={props.card ? props.card.name : \"\"}\r\n        />\r\n        <figcaption className=\"popup__image-title\">\r\n          {props.card ? props.card.name : \"\"}\r\n        </figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Footer(){\r\n\r\n  const dt = new Date();\r\n  const year = dt.getFullYear();\r\n\r\n\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__title\">&copy; {year} DenisZыkov - Mesto Russia </p>\r\n    </footer>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm(props) {\r\n\r\n  return(\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen && ('popup_opened')}`}  onClick={props.onCloseOverlay} >\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close-button\" type=\"button\"   onMouseDown={props.onClose}  />\r\n        <form className=\"popup__form\" name={props.form}  onSubmit={props.onSubmit} >\r\n          <fieldset className=\"popup__content\">\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n              {props.children}\r\n            <button className=\"popup__save\" type=\"submit\">{props.buttonText}</button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nexport default function AddPlacePopup(props) {\r\n\r\n  const [placeName, setPlaceName] = useState(\"\");\r\n  const [placeLink, setPlaceLink] = useState(\"\");\r\n\r\n  useEffect( ()=> {\r\n    setPlaceName(\"\");\r\n    setPlaceLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onAddPlace({\r\n        name: placeName,\r\n        link: placeLink,\r\n    });\r\n}\r\n\r\nfunction handleChangePlaceName(evt) {\r\n    setPlaceName(evt.target.value);\r\n}\r\n\r\nfunction handleChangePlaceLink(evt) {\r\n    setPlaceLink(evt.target.value);\r\n}\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onCloseOverlay={props.onCloseOverlay}\r\n      onSubmit={handleSubmit}\r\n      name={\"add\"}\r\n      form={\"newCard\"}\r\n      title={\"Новое место\"}\r\n      buttonText={props.onLoading ? `Сохранение` : `Создать`}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          className=\"popup__input popup__input_type_title\"\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          id=\"title\"\r\n          value={placeName}\r\n          onChange={handleChangePlaceName}\r\n        />\r\n        <span className=\"title-error error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          className=\"popup__input popup__input_type_image-link\"\r\n          name=\"link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          id=\"link\"\r\n          value={placeLink}\r\n          onChange={handleChangePlaceLink}\r\n        />\r\n        <span className=\"link-error error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}","import PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport React, { useState, useEffect } from \"react\"\r\n\r\nexport default function EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [about, setAbout] = useState('');\r\n  const [name, setName] = useState('');\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name)\r\n    setAbout(currentUser.about)\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: about,\r\n    })\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setAbout(e.target.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onCloseOverlay={props.onCloseOverlay} \r\n      buttonText={props.onLoading ? `Сохранение...` : `Сохранить`}\r\n      name={'edit'}\r\n      form={'profileData'}\r\n      title={'Редактировать профиль'}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          className=\"popup__input popup__input_name\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          id=\"nameProfile\"\r\n          value={name || \"\"}\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className=\"nameProfile-error error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          className=\"popup__input popup__input_job\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          required\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          id=\"aboutProfile\"\r\n          value={about || \"\"}\r\n          onChange={handleChangeAbout}\r\n        />\r\n        <span className=\"aboutProfile-error error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React, {useRef, useEffect} from 'react';\r\n\r\n\r\nexport default function EditAvatarPopup(props) {\r\n\r\n  const avatarRef  = useRef();\r\n\r\n  useEffect( ()=> {\r\n    avatarRef.current.value = '';\r\n    }, [props.isOpen]\r\n  )\r\n\r\n  function handleChangeAvatar() {\r\n    return avatarRef.current.value\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onCloseOverlay={props.onCloseOverlay}\r\n      buttonText={props.onLoading ? `Сохранение...` : `Сохранить`}\r\n      name=\"popupEditAvatar\"\r\n      title=\"Обновить аватар\"\r\n      form={\"editAvatarForm\"}      \r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          id=\"avatar\"\r\n          className=\"popup__input popup__input_link-avatar\"\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          placeholder=\"Введите ссылку URL\"\r\n          required\r\n          onChange={handleChangeAvatar}\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"avatar-error error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from 'react';\r\n\r\nexport default function PopupConfirmation(props) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm \r\n      isOpen={props.isOpen}   \r\n      onClose={props.onClose}  \r\n      onCloseOverlay={props.onCloseOverlay} \r\n      buttonText={props.onLoading ? `Удаление...` : `Да`}\r\n      onSubmit={handleSubmit}\r\n      name=\"popupConfirmation\"\r\n      title=\"Вы уверены?\"\r\n    />\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport api from \"../utils/api\";\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport ImagePopup from './ImagePopup';\r\nimport Footer from './Footer';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport PopupConfirmation from './PopupConfirmation';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isConfirmationPopupOpen, setIsConfirmationPopupOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [deletedCard, setDeletedCard] = useState({});\r\n\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()]).then(([user, cards]) => {\r\n      setCurrentUser(user);\r\n      setCards(cards);\r\n    }).catch((err) => {\r\n      console.error(err);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isConfirmationPopupOpen ||\r\n      isEditAvatarPopupOpen ||\r\n      isEditProfilePopupOpen ||\r\n      isAddPlacePopupOpen ||\r\n      selectedCard\r\n    ) {\r\n      function handleEsc(evt) {\r\n        evt.key === \"Escape\" && closeAllPopups();\r\n      }\r\n\r\n      document.addEventListener(\"keydown\", handleEsc);\r\n\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEsc);\r\n      };\r\n    }\r\n  }, [\r\n    isConfirmationPopupOpen,\r\n    isEditAvatarPopupOpen,\r\n    isEditProfilePopupOpen,\r\n    isAddPlacePopupOpen,\r\n    selectedCard,\r\n  ]);\r\n\r\n\r\n  function closeAllPopups() {\r\n    setSelectedCard(null);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsConfirmationPopupOpen(false);\r\n  }\r\n\r\n  function closeByOverlay(evt) { (evt.target === evt.currentTarget) && closeAllPopups(); }\r\n\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    setIsLoading(true)\r\n    api.addNewCard(data)\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards])\r\n      closeAllPopups()\r\n    })\r\n    .catch((error) => console.log(`Ошибка: ${error}`))\r\n    .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleUpdateUser(newUserInfo) {\r\n    setIsLoading(true)\r\n    api.editProfileUserInfo(newUserInfo)\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n        closeAllPopups()\r\n      })\r\n      .catch((error) => console.log(`Ошибка: ${error}`))\r\n      .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatar) {\r\n    setIsLoading(true)\r\n    api.updateProfileAvatar(newAvatar)\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n        closeAllPopups()\r\n      })\r\n      .catch((error) => console.log(`Ошибка: ${error}`))\r\n      .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((user) =>  user._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((user) => (user._id === card._id ? newCard : user))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setIsLoading(true)\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((item) => item._id !== card._id))\r\n        closeAllPopups()\r\n      })\r\n      .catch((error) => console.log(`Ошибка: ${error}`))\r\n      .finally(() => setIsLoading(false))\r\n  }\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header />\r\n\r\n          <Main\r\n            cards={cards}\r\n            onCardClick={setSelectedCard}\r\n            onEditProfile={setIsEditProfilePopupOpen}\r\n            onAddPlace={setIsAddPlacePopupOpen}\r\n            onEditAvatar={setIsEditAvatarPopupOpen}\r\n            onCardLike={handleCardLike}\r\n            onConfirmationPopup={setIsConfirmationPopupOpen}\r\n            onDeletedCard={setDeletedCard}\r\n          />\r\n\r\n          <Footer />\r\n\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n            onCloseOverlay={closeByOverlay}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            onClose={closeAllPopups}\r\n            onCloseOverlay={closeByOverlay}\r\n            onLoading={isLoading}\r\n          />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onCloseOverlay={closeByOverlay}\r\n            onUpdateUser={handleUpdateUser}\r\n            onLoading={isLoading}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onCloseOverlay={closeByOverlay}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            onLoading={isLoading}\r\n          />\r\n\r\n          <PopupConfirmation\r\n            isOpen={isConfirmationPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onCloseOverlay={closeByOverlay}\r\n            onLoading={isLoading}\r\n            onCardDelete={handleCardDelete}\r\n            card={deletedCard}\r\n          />\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(  \r\n    <App />\r\n  );","module.exports = __webpack_public_path__ + \"static/media/pen.5ff1f7a2.svg\";"],"sourceRoot":""}